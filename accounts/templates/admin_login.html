{% load static %}
<!DOCTYPE html>
<html lang="en">

    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <meta name="keywords" content="ERP, school ERP,college ERP, student management, academic records, attendance tracking, timetable, examination, fees management, library management, parent portal">

        <title>Scholars.ERP</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <link rel="icon" href="/scholarimg/favicon.png" type="image/png" sizes="16x16" />
        <link type="text/css" href="{% static 'assets/css/style.css'%}" rel="stylesheet" />
        <link type="text/css" rel="stylesheet" href="{% static 'assets/css/font-awesome.min.css'%}" />
        <link type="text/css" rel="stylesheet" href="{% static 'assets/css/simple-line-icons.css'%}" />
        <link href="https://fonts.googleapis.com/css2?family=Lato:wght@100;300;400;700&display=swap" rel="stylesheet" />
        <link rel='stylesheet' id='crellyslider.min-css' href="{% static 'assets/css/crellyslider.min.css'%}" media='all' />


        <script src="{% static 'assets/js/jquery4a5f.js'%}"></script>

        <script src="{% static 'assets/js/jquery.crellyslider.min.js'%}"></script>
    </head>

    <body>
        <div class="container-fluid p-0">
            <div class="row g-0">
                <div class="col-xl-8">
                    <div class="image-container" style="width: 100%; height: 100vh; overflow: hidden">
                        <img src="{% static 'assets/images/login_image.jpg' %}" alt="Main Content Image & Photo by Lum3n" style="width: 100%; height: 100%; object-fit: cover" />
                    </div>
                </div>
                <div class="col-xl-4  d-flex justify-content-center align-items-center bg-light p-4">
                    <div class="register-form card w-100 p-4  " style="box-shadow: 0px 0px 10px rgba(0,0,0,0.3);" >
                        <h3  class="gradient mb-1">Welcome !</h3>
                        <p class="gradient" style="font-size: 17px;">Sign In...</p>

                        <form method="post">
                        {% csrf_token %}
                            <input type="hidden" id="login-type" name="login-type" value="" />
    
                            <!-- Email field (show for all login types) -->
                            <div class="mb-3">
                              <label htmlFor="email" class="form-label" style="font-size:small;height:10px">Email</label>
                              <input 
                              name='email'
                              type="email" class="form-control" id="email" placeholder="Enter your email here..." />
                            </div>
                            <!-- Password field (show for all login types) -->
                            <div class="mb-3">
                              <label class="form-label" style="font-size:small;height:10px">Password</label>
                              <div class="input-group auth-pass-inputgroup">
                                <input
                                name='password'
                                type="password"
                                class="form-control" placeholder="Enter password" aria-label="Password" aria-describedby="password-addon" />
                              </div>
                            </div>
                            
                            <div class="mt-3 d-grid">
                                
                              <button class="form-control" type="submit" style="font-size: 15px; color:#1a2e35;background: linear-gradient(to right, #02A8F4, #445CCE);">Log In</button>
                              
                            </div>
                            <div class="float-end mt-2">
                                <a href="auth-recoverpw-2.html" class="text-muted" style="font-size:12px">Forgot password?</a>
                            </div>
                          
                          </form>
                    </div>
                </div>
            </div>
        </div>
    </body>
    <script>
       //get the dropdown menu and form fields
       const loginForm = document.querySelector('form');
       const instituteIdField = document.querySelector('#institute-id-field')
       const teacherInstituteField = document.querySelector('#teacher-institute-field');

       //get the login type from the url parameter
       const urlParams = new URLSearchParams(window.location.search)
       const loginType = urlParams.get('loginType');

       //modify the form fields based on the selected login type
       switch (loginType){
            case 'institute-login':
                instituteIdField.style.display = 'block';
                teacherInstituteField.style.display = 'none';
                break;
            case 'student-login':
                instituteIdField.style.display = 'none';
                teacherInstituteField.style.display = 'none';
                break;
            case 'teacher-login':
                instituteIdField.style.display = 'none';
                teacherInstituteField.style.display ='block'; 
                break;   
       }
    </script>
</html>
